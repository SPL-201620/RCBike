<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

	<ui:define name="head">
		<script>
			function sendMsgSocket() {
				webSocket
						.send(document.getElementById("contenido-mensaje").value);
			}
		</script>
	</ui:define>
	<ui:define name="subheader">
        Mensajeria
    </ui:define>

	<ui:define name="content">
		<div class="Container100 ui-fluid" style="    height: calc(100% - 38px);">
			<h:form id="frmMensajeria" prependId="false">
				<div class="Card ShadowEffect chat-container">
					<div class="Container30 Responsive100">
						<p:repeat value="#{mensajeriaManager.conversaciones}" var="receptor">
							<p:outputPanel layout="block" styleClass="Card SoftGrayBack BorderAll" >
	                            #{receptor.nombreCompleto()}
							</p:outputPanel>							
						</p:repeat>
					</div>
					<div class="col-mensajes Container70 Responsive100">
						<div class="Container BorderAll">
							<div class="Fleft Wid80">
								<p:inputText id="contenido-mensaje" placeholder="Mensaje" value="#{mensajeriaManager.mensaje}"
									styleClass="Fs18" autocomplete="off" />
							</div>
							<div class="Fleft Wid20">
								<p:commandButton icon="fa fa-send" value="Enviar"
									styleClass="Fs18 White RaisedButton FloatNoneOnMobile"
									update=":frmMensajeria" onclick="sendMsgSocket();" />
							</div>
						</div>
					</div>
				</div>
			</h:form>
		</div>
		<style type="text/css">
			.chat-container{
				height:500px;
				max-height:500px;
			}
			
		</style>
	</ui:define>

</ui:composition>