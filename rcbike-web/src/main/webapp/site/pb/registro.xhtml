<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
        </f:facet>
        <title>RC Bike - Registro</title>
        <ui:insert name="head" />
        <style>
			.ui-fileupload-content { display: none;}
        </style>
    </h:head>

	<f:event listener="#{autenticacionManager.checkLogin()}" type="preRenderView" />

    <h:body styleClass="GrayModena Geometry" style="height:auto;">
        <div class="Wid90 DispBlock MarAuto MarTopPerc5 TexAlCenter">
            <div class="Wid60 MarAuto WidAutoOnMobile">
                <div class="EmptyBox30"></div>
                <div class="Card ShadowEffect">
                    <div class="Wid100 OvHidden BigTopic Fs30">Registro</div>
                	
                	<div class="Container100 Responsive100">
	                <h:form id="formCargaImagen">
                	<div class="Container40 Responsive">
                    	<h:panelGroup layout="block" rendered="#{empty registroManager.foto}">
                    		<div class="EmptyBox40 Wid100"/>
	                    	<h:panelGroup layout="block" style="display: block; margin:0 auto" styleClass="icon-face Fs100"/>
                    		<div class="EmptyBox40 Wid100"/>
                    	</h:panelGroup>
                    	<h:panelGroup layout="block" rendered="#{not empty registroManager.foto}">
                    		<div class="EmptyBox20 Wid100"/>
							<img src="data:image/jpeg;base64,#{registroManager.foto}" style="display: block; margin:0 auto"/>
							<div class="EmptyBox10 Wid100"/>
                    	</h:panelGroup>
	                    <div style="display: block; margin:0 auto">
						    <p:fileUpload id="cargarImagen" fileUploadListener="#{registroManager.cargarImagen}"
						    	 mode="advanced" update="formCargaImagen" auto="true" label="Cargar Imagen"  
						                     sizeLimit="100000" allowTypes="/(\.|\/)(jpe?g|png)$/"/>
						</div>
                	</div>
					</h:form>
        			
        			<h:form>
        			
                    <div class="Container60 Responsive">
                    	<div class="EmptyBox10 Wid80"/>
	                   	<p:outputLabel for="correo" value="Correo" style="display:none;"/>
	                   	<p:inputText id="correo" placeholder="Correo" value="#{registroManager.email}" 
	                   		rendered="#{autenticacionManager.datosAut.requiereEmail}" required="true"
	                   	 	styleClass="Wid80 TexAlCenter Fs18" />
	                   	
	                   	<!-- Icono Servicio Externo -->
	                   	<h:panelGroup layout="block"
	                   	 styleClass="Wid80 TexAlCenter MarAuto" rendered="#{!autenticacionManager.datosAut.requiereEmail}"> 	
	                   			<i class="fa fa-#{registroManager.servicio} Fs50 color-#{registroManager.servicio}"></i>
	                   	</h:panelGroup>
                    	<div class="EmptyBox10 Wid80"/>

						<p:outputLabel for="clave" value="Contraseña" style="display:none;"/>
						<p:inputText type="password" id="clave" placeholder="Contraseña" value="#{registroManager.clave}" 
	                   		required="true" styleClass="Wid80 TexAlCenter Fs18"
	                   		rendered="#{autenticacionManager.datosAut.requiereClave}"/>
                    	<div class="EmptyBox10 Wid80"/>

                    	<p:outputLabel for="nombres" value="Nombres" style="display:none;"/>
                    	<p:inputText placeholder="Nombres" id="nombres" value="#{registroManager.nombres}" required="true"
                    	 	styleClass="Wid80 TexAlCenter Fs18" />
                    	<div class="EmptyBox10 Wid80"/>

                    	<p:outputLabel for="apellidos" value="Apellidos" style="display:none;"/>
                    	<p:inputText placeholder="Apellidos" id="apellidos" value="#{registroManager.apellidos}" required="true"
                    	 	styleClass="Wid80 TexAlCenter Fs18" />
                    </div>

                    
                    <div class="EmptyBox30"/>
                    <div class="Container100">
                    	<p:commandButton value="Registrarme" action="#{registroManager.registrar()}" icon="fa fa-user-plus" 
                    		styleClass="Wid80 Fs18 White RaisedButton FloatNoneOnMobile" update="@form growl"/>
                    </div>
                    <div class="EmptyBox10"/>
                    <div class="Container100">
                    	<p:button outcome="inicio" value="Cancelar" icon="fa fa-close" 
                    		styleClass="Wid80 Fs18 White RedButton RaisedButton FloatNoneOnMobile" />
                    </div>
                    <div class="EmptyBox20"></div>
	        		</h:form>
	        		</div>
                </div>
                <div class="Wid100 TexAlCenter MarTop20 Fs14 FontRobotoRegular Gray">
        	        <i class="fa fa-copyright"></i>  Los 4 Fantasticos <br/> All rights reserved.
                </div>
            </div>
        </div>
        
        <ui:include src="/WEB-INF/include/common/ajax-handling.xhtml"/>
        <h:outputStylesheet name="css/rcbike.min.css" library="modena-layout" />
        <style type="text/css">
			.color-facebook {
			    color:#3b5998;
			}
			.color-twitter {
			    color:#1da1f2;
			}
		</style>
    </h:body>

</html>